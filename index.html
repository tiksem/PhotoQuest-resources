<!DOCTYPE html>
<html lang='en' ng-app="main">
<head>
    <meta charset="UTF-8" />
    <title>
        HTML Document Structure
    </title>
    <link rel="stylesheet" type="text/css" href="css/login-style.css">
    <link rel="stylesheet" type="text/css" href="jquery-ui-1.11.2.custom/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="css/ngDialog.css">
    <link rel="stylesheet" href="css/ngDialog-theme-default.css">
    <link rel="stylesheet" href="css/ngDialog-theme-plain.css">
    <link rel="stylesheet" href="css/perfect-scrollbar.css">

    <script type="application/javascript" src="js/angular-file-upload-shim.js"></script>
    <script type="application/javascript" src="js/angular.js"> </script>
    <script type="application/javascript" src="js/jquery-2.1.0.min.js"> </script>
    <script type="application/javascript" src="jquery-ui-1.11.2.custom/jquery-ui.js"></script>
    <script type="application/javascript" src="js/utilities.js"></script>
    <script type="application/javascript" src="js/ngDialog.js"></script>
    <script type="application/javascript" src="js/string.js"></script>
    <script type="application/javascript" src="js/angular-file-upload.js"> </script>
    <script type="application/javascript" src="js/angular-cookies.js"> </script>
    <script type="application/javascript" src="js/array.js"> </script>
    <script type="application/javascript" src="js/perfect-scrollbar.js"> </script>


    <script>
        var main = angular.module("main", ['ngDialog', 'angularFileUpload', 'ngCookies']);
        main.controller("Main", function($scope, $location, $cookies){
            var signedInUser = null;
            $scope.getSignedInUser = function() {
                return signedInUser;
            };
            $scope.setSignedInUser = function(user) {
                signedInUser = user;
            };

            $scope.getCenterPageContent = function(){
                var defaultContent = 'html/photoquests.html'
                var hash = $location.hash();
                if(!hash){
                    return defaultContent;
                }

                var path = Utilities.parseHashPath(hash);
                if(path[0] == "quest"){
                    var questId = path[1];
                    if(questId && questId.isNumber()){
                        return 'html/photoquest.html';
                    }
                } else if(path[0] == "people") {
                    return 'html/people.html';
                } else if(path[0] == "friends") {
                    return 'html/friends.html';
                } else if(path[0] == "photo"){
                    var photoId = path[1];
                    if(photoId && photoId.isNumber()){
                        return 'html/photo.html';
                    }
                } else if(path[0] == "profile") {
                    var id = path[1];
                    if(id && id.isNumber()){
                        return 'html/profile.html';
                    }
                } else if(path[0] == "dialogs") {
                    return 'html/dialogs.html';
                } else if(path[0] == "messages") {
                    var id = path[1];
                    if(id && id.isNumber()){
                        return 'html/messages.html';
                    }
                }

                return defaultContent;
            }


        })
    </script>
</head>
<body ng-controller="Main">

<script type="application/javascript" src="js/header.js"> </script>
<div ng-include="'html/header.html'">

</div>

<div style="position: relative">
    <script type="application/javascript" src="js/login.js"> </script>
    <script type="application/javascript" src="js/register.js"> </script>
    <div id="login_form_container" ng-include="'html/login.html'">

    </div>

    <script type="application/javascript" src="js/photoquests.js"> </script>
    <script type="application/javascript" src="js/photoquest.js"> </script>
    <script type="application/javascript" src="js/people.js"> </script>
    <script type="application/javascript" src="js/photo.js"> </script>
    <script type="application/javascript" src="js/profile.js"> </script>
    <script type="application/javascript" src="js/dialogs.js"> </script>
    <script type="application/javascript" src="js/messages.js"> </script>
    <div id="center_page_container" ng-include="getCenterPageContent()" align="center">

    </div>

    <script type="application/javascript">
        Utilities.applyStylesToHtml();
    </script>
</div>

</body>
</html>
