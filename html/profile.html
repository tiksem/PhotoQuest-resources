<!DOCTYPE html>
<div class="profile_container" ng-controller="ProfileController">
    <div ng-show="id">
        <a ng-href="#?path=photo&id={{avatarId}}&category=avatar&userId={{id}}">
            <div>
                <thumbnail class="profile_avatar" size="250" src="avatar"></thumbnail>
            </div>
        </a>

        <div class="profile_info_container">
        <span class="profile_user_name">
            {{name + " " + lastName}}
        </span><br/>
            {{user.city + ", " + user.country}}<br/> <br/>

            <div style="text-align: center;" ng-if="getSignedInUser().id !== getId()">
                <div id="user_photos_link">
                    <a ng-href="#?path=photos&id={{id}}">
                        Photos
                    </a>
                </div><br />
                <div class="user_photoquest_link">
                    <a href="#?path=friends&id={{id}}">
                        Friends
                    </a>
                </div><br />
                <div class="user_photoquest_link" style="margin-top: 5px; position: relative; left:3px;">
                    <a ng-href="#?path=created_quests&id={{id}}">
                        Photoquests
                    </a>
                </div>
                
                <br />

                <div style="display:inline-block;float:left;min-width: 100%;" ng-show="getSignedInUser()" class="add_friend_button">
                    <button style="float: left;" class="button"
                            ng-click="addOrRemoveFriend(user)">
                        {{getToggleFriendStatusButtonName(user)}}
                    </button>
					<img ng-show="user.addFriendLoading" style="float:right; position:relative; top:3px;"
                         src="../images/mini_loading.gif" height="20" width="20" class="loading_small"/>
                </div>
            </div>
            <div style="display:inline-block; float:left;" ng-show="user.relation === 'request_received'">
                <button class="button" ng-click="addOrRemoveFriend(user, true)">
                    Decline friend request
                </button>
            </div>
            <div class="send_message_button" style="float: left;">
                <a ng-href="#?path=messages&id={{id}}">
                    <button class="button" ng-show="getSignedInUser() &&
                    getSignedInUser().id != getId()">
                        Write message
                    </button>
                </a>
            </div>

        </div>
        <div>
            <div class="profile_feed_container" ng-include="'html/feed.html'">
            </div>
        </div>
    </div>
</div>