<div ng-controller="PeopleController" class="people_page">
    <div class="filters">
        <div>
            <div class="inputs_container">
                
                <div class="name_filter">
                    <label style="color:#46172B;" class="name_filter_label">
                        By name
                    </label><br />
                    <input class="filter_input" style="width: 200px;height: 15px;" ng-model="filter"/>
                </div>
				<div>
					<div class="filter_country">
						<label style="color:#46172B;">
							Enter country
						</label>
						<input class="filter_input" ng-model="countryName"  style="width: 200px; height:15px;"
							   country-input/>
					</div>

					<div ng-show="country" class="filter_city" >
						<label style="color:#46172B;">
							Enter city
						</label>
						<input ng-model="cityName" class="filter_input" style="width: 200px; height: 15px;"
							   city-input/>
					</div>
				</div>
            </div><br/>
			<div class="selector_container">
				<div class="sorting_selector" style="height: 20px; line-height: 20px;">
					<div style="display: inline-block; float: left; margin-right: 10px;">Sort by</div>
					<select class="selector" style="float:left;" search-select="order">
						<option value="newest">Registration date</option>
						<option value="rated">Rating</option>
					</select>
				</div>
				<div class="gender_selector" style="height: 20px; line-height: 20px;">
					<div style="display: inline-block; float: left;margin-right: 10px;">Gender</div>
					<select ng-model="gender" style="float:left;" class="selector" >
						<option value="">Select gender</option>
						<option value="true">Male</option>
						<option value="false">Female</option>
					</select>
				</div>
				<a class="filter_search_button" ng-href="{{getSearchHref()}}">
					<button class="button">
						Search
					</button>
				</a>
			</div>
        </div>
    </div>
    <div class="tab_container" style="width: 697px;  padding-right:0;" ng-show="showFriendTabs">

        <table id="tabs_table">
            <tr>
                <td class="support_col"></td>
                <td>
                    <a tab-link disabled="{{contentIsLoading}}"
                       class="tab{{getPath() === 'friends'  ? ' activeTab' : ''}}"
                       ng-href="#?path=friends">
                        Friends
                    </a>
                </td>
                <td>
                    <a tab-link disabled="{{contentIsLoading}}"
                       class="tab{{getPath() === 'sent_requests'  ? ' activeTab' : ''}}"
                       ng-href="#?path=sent_requests">
                        Sent requests
                    </a>
                </td>
                <td>
                    <a tab-link disabled="{{contentIsLoading}}"
                       class="tab{{getPath() === 'received_requests'  ? ' activeTab' : ''}}"
                       ng-href="#?path=received_requests" style="padding-left: 5px; padding-right: 5px;">
                        Received requests
                    </a>
                </td>
                <td class="support_col"></td>
            </tr>
        </table>

    </div>
    <div class="people_title" >
        <div style="display: inline-block;"><h1>{{getTitle()}}</h1></div>
        <div  class="friend_title_user_avatar" ng-show="user && user.id != getSignedInUser().id">
            <a href="#?path=profile&id={{user.id}}">
                <thumbnail src="user.avatar" size="40" />
            </a>
            <a style="margin-left: 5px;" href="#?path=profile&id={{user.id}}">
                {{user.name + " " + user.lastName}}
            </a>
        </div>
        
    </div>
    <img ng-show="contentIsLoading" src="../images/loading.gif" height="50" width="50" class="loading"/>

    <div class="single_people" dir-paginate="user in users | itemsPerPage: pageSize" total-items="totalItems"
         current-page="pageNumber" style="padding-bottom: 40px;"
            >

        <div class="people_avatar">
            <a ng-href="#?path=profile&id={{user.id}}">
                <thumbnail size="150" src="user.avatar"></thumbnail>
            </a>
        </div>
        <div class="people_info_container" style="padding-bottom: 40px; width: 400px;">
            <a class="people_link" ng-href="#?path=profile&id={{user.id}}">
                <span class="user_info_text">{{user.name + " " + user.lastName}}</span><br/>
            </a>

            {{user.country}}<br/> {{user.city}}<br/>

            <div class="add_friend_button">
                <button style="float: left;" class="button"
                        ng-show="getToggleFriendStatusButtonName(user) && getSignedInUser() &&
                        getSignedInUser().id != user.id"
                        ng-click="addOrRemoveFriend(user)">
                    {{getToggleFriendStatusButtonName(user)}}
                </button>
                <img ng-show="user.addFriendLoading" src="../images/mini_loading.gif"
                     style="position:relative; float:right;margin-top:2px;"
                     height="20" width="20" class="loading_small"/>
            </div><br />
            <div class="friend_requests_button" ng-show="user.relation === 'request_received'"
            style="width: 350px; word-wrap: break-word; margin-bottom: 5px; margin-top: -15px;"  >
                <div style="display: inline-block;">{{user.name}} wants to add you as a friend</div><br />
                <button style="float: left; margin-right: 5px;" class="button" >
                    Accept
                </button>
                <button style="float: left;" class="button" ng-click="addOrRemoveFriend(user, true)">
                    Decline
                </button>
                <img  src="../images/mini_loading.gif"
                     style="float:left;margin-top:3px;"
                     height="20" width="20" class="loading_small"/>
                
            </div>
            <div class="send_message_button">
                <a ng-href="#?path=messages&id={{user.id}}">
                    <button class="button" ng-show="getSignedInUser() && getSignedInUser().id != user.id">
                        Write message
                    </button>
                </a>
            </div>
        </div>
    </div>

    <div ng-show="!contentIsLoading">
        <dir-pagination-controls boundary-links="true"
                                 on-page-change="onPageChanged(newPageNumber)"
                                 template-url="html/pagination_template.html">
        </dir-pagination-controls>
    </div>
</div>
</div>