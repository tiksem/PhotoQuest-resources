<div id="user_left_sidebar_block" ng-controller="LoginController">
    <form id="login_form" ng-show="!getSignedInUser()">
        <label>
            Enter your login
            <input style="width: 155px;"name="login" ng-model="login" type="text"/>
        </label>
        <label>
            Enter your password
            <input name="password" ng-model="password" type="password">
        </label>
		<div style="display:inline-block;">
			<button class="button"  id="button_sign_in" ng-click="signin();">Sign In</button>
			<img ng-show="loginLoading"
					src="../images/mini_loading.gif" height="20" width="20"  style="position: relative;
			top: 4px; float:right;"class="loading_small"/>
		</div>
			<br />
        <a id="register_link" href="#?path=register">
            Register
        </a><br /><br />
        <div id="login-error-block">
            {{errorMessage}}
        </div>
    </form>

    <div id="user_menu_block" ng-show="getSignedInUser()">
        <a ng-href="#?path=profile&id={{getSignedInUser().id}}">
            <div id="user_avatar">
                <thumbnail size="120" src="getSignedInUser().avatar"></thumbnail>
            </div>
        </a>

        <div id="user_menu" >
            <div class="user_menu_link_container">
                <a class="user_info_link" ng-href="{{'#?path=profile&id=' + getSignedInUser().id}}">
                    <span class="user_button">Profile</span>
                </a>
            </div>
            <div class="user_menu_link_container">
                <a  class="user_info_link" ng-href="#?path=dialogs">
                    <span class="user_button">
                         Messages
                         <span ng-show="getSignedInUser().unreadMessagesCount">
                             (+{{getSignedInUser().unreadMessagesCount}})
                         </span>
                     </span>
                </a>
            </div>
            <div class="user_menu_link_container">
                <a class="user_info_link" ng-href="#?path=friends">
                    <span class="user_button">
                         Friends
                         <span ng-show="getSignedInUser().friendRequestsCount">
                             (+{{getSignedInUser().friendRequestsCount}})
                         </span>
                     </span>
                </a>
            </div>
            <div class="user_menu_link_container">
                <a class="user_info_link" ng-href="#?path=following_quests&id={{getSignedInUser().id}}">
                    <span class="user_button">My photoquests</span>
                </a>
            </div>
            <div class="user_menu_link_container">
                <a class="user_info_link" ng-href="#?path=photos&id={{getSignedInUser().id}}">
                    <span class="user_button">My photos</span>
                </a>
            </div>
            <div class="user_menu_link_container">
                <a class="user_info_link" ng-href="#?path=news">
                    <span class="user_button"> News</span>
                </a>
            </div>
            <div class="user_menu_link_container">
                <a class="user_info_link" ng-href="#?path=replies">
                     <span class="user_button">
                         Replies
                         <span ng-show="getSignedInUser().unreadRepliesCount">
                             (+{{getSignedInUser().unreadRepliesCount}})
                         </span>
                     </span>
                </a>
            </div>    
            <div class="user_menu_link_container">
                <a class="user_info_link" ng-href="#?path=settings">
                     <span class="user_button">Settings</span>
                </a>
            </div>
        </div>
    </div>
</div>