<div id="photoquests_page" ng-controller="PhotoQuests">
    <div class="tab_container">

        <div id="tabs_container" ng-show="showRatingTab" ng-include="'html/tabs.html'">

        </div>
    </div>
    <div >
        <h1>{{title}}</h1><br />

        <div id="create-button">
            <button ng-show="getSignedInUser()" class="button" ng-click="openCreatePhotoquestDialog()">
                Create PhotoQuest
            </button>
        </div>

        <div id="search-quest">
            <input style="width: 175px; float: left; margin-bottom: 5px;" class="filter_input" ng-model="filter"/>
            <a ng-href="{{getSearchHref(filter)}}">
                <button  style="float: left;"class="button">
                    Search
                </button>
            </a>
        </div>
    </div><br />
    <div class="quests_container">
        <div class="photoquest_container" dir-paginate="quest in quests | itemsPerPage: pageSize"
             total-items="totalItems"
             current-page="pageNumber"
                >
            <div class="photoquest_img_container">
                <a ng-href="#?path=quest&id={{quest.id}}">
                    <thumbnail class="photoquest_img" size="150" src="quest.avatar"></thumbnail>
                </a>

                <div class="photoquest_views_count">
                    {{quest.viewsCount}}
                </div>

            </div>

            <div class="photoquest_info_container">
                <a class="quest_name_link" ng-href="#?path=quest&id={{quest.id}}">
                    <span class="photoquest_info_quest_name">{{quest.name}}</span>
                </a>

                <div class="creator_of_quest">
                    <div ng-show="quest.user">
                        <span style="color:#696969; font-size: 10pt; font-weight: bold;">
                            Created by<br/>
                        </span>

                        <div style="margin-top: 2px; word-wrap: break-word;">
                            <a href="#?path=profile&id={{quest.user.id}}">
                                <thumbnail src="quest.user.avatar" size="30" style="float: left;"/>
                            </a>
                            <a href="#?path=profile&id={{quest.user.id}}">
                                {{quest.user.name + " " + quest.user.lastName}}
                            </a>
                        </div>
                    </div>
                </div>

                <button class="button" class="photoquest_info_follow_button" ng-click="toggleFollowState(quest);"
                        ng-show="getSignedInUser()">
                    {{quest.isFollowing ? "Unfollow" : "Follow"}}
                </button>
            </div>

        </div>
    </div>

    <div>
        <dir-pagination-controls boundary-links="true"
                                 on-page-change="onPageChanged(newPageNumber)"
                                 template-url="html/pagination_template.html">
        </dir-pagination-controls>
    </div>
</div>