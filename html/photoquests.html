
<div ng-controller="PhotoQuests" >
    <div ng-show="showCategoryTab">
        <a ng-href="#?path=created_quests&order=rated">
            Created
        </a>
        <a ng-href="#?path=following_quests&order=rated">
            Following
        </a>
    </div>
    <div ng-show="showRatingTab">
        <a ng-href="{{getNewestHref()}}">
            Newest
        </a>
        <a ng-href="{{getMostRatedHref()}}">
            Most rated
        </a>
    </div>
    <div >
        <h1>{{title}}</h1>
        <button class="button" ng-click="openCreatePhotoquestDialog()">Create PhotoQuest</button>
    </div>
    <div class="quests_container">
        <div  class="photoquest_container" dir-paginate="quest in quests | itemsPerPage: pageSize" total-items="totalItems"
             current-page="pageNumber"
                >                     
             <div class="photoquest_img_container">                                
                <a ng-href="#?path=quest&id={{quest.id}}"><thumbnail class="photoquest_img" size="150" src="quest.avatar"></thumbnail></a>
                    <div class="photoquest_views_count">
                        {{quest.viewsCount}}
                    </div>
               
            </div>   

            <div class="photoquest_info_container">
                <a ng-href="#?path=quest&id={{quest.id}}">
                    <span class="photoquest_info_quest_name">{{quest.name}}</span><br /><br />
                </a>
                
                Created by ##########<br /><br />
                
                <button  class="button" class="photoquest_info_follow_button" ng-click="toggleFollowState(quest);" ng-show="getSignedInUser()">
                    {{quest.isFollowing ? "Unfollow" : "Follow"}}
                </button>
            </div>
            
        </div>
    </div>

    <div>
        <dir-pagination-controls boundary-links="true"
                                 on-page-change="onPageChanged(newPageNumber)"
                                 template-url="html/pagination_template.html">
        </dir-pagination-controls>
    </div>
</div>