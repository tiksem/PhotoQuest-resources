(function(y,c,t){t=c.module("ngDialog",[]);var w=c.element,l=c.isDefined,u=(document.body||document.documentElement).style,C=l(u.animation)||l(u.WebkitAnimation)||l(u.MozAnimation)||l(u.MsAnimation)||l(u.OAnimation),A=!1;t.provider("ngDialog",function(){var z=this.defaults={className:"ngdialog-theme-default",plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0};this.setForceBodyReload=function(c){A=c||!1};this.setDefaults=
	function(d){c.extend(z,d)};var r=0,k=0,d,x={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller",function(p,l,u,t,D,m,E,B,F){var g=p.find("body");A&&m.$on("$locationChangeSuccess",function(){g=p.find("body")});var h={onDocumentKeydown:function(a){27===a.keyCode&&v.close("$escape")},setBodyPadding:function(a){var c=parseInt(g.css("padding-right")||0,10);g.css("padding-right",c+a+"px");g.data("ng-dialog-original-padding",c)},resetBodyPadding:function(){var a=
	g.data("ng-dialog-original-padding");a?g.css("padding-right",a+"px"):g.css("padding-right","")},performCloseDialog:function(a,q){var e=a.attr("id");if("undefined"!==typeof y.Hammer){var b=c.element(a).scope().hammerTime;b.off("tap",d);b.destroy();delete a.scope().hammerTime}else a.unbind("click");1===k&&g.unbind("keydown");a.hasClass("ngdialog-closing")||--k;m.$broadcast("ngDialog.closing",a);C?a.unbind("animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend").bind("animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",
	function(){a.scope().$destroy();a.remove();0===k&&(g.removeClass("ngdialog-open"),h.resetBodyPadding());m.$broadcast("ngDialog.closed",a)}).addClass("ngdialog-closing"):(a.scope().$destroy(),a.remove(),0===k&&(g.removeClass("ngdialog-open"),h.resetBodyPadding()),m.$broadcast("ngDialog.closed",a));x[e]&&(x[e].resolve({id:e,value:q,$dialog:a,remainingDialogs:k}),delete x[e])},closeDialog:function(a,d){var e=a.data("$ngDialogPreCloseCallback");e&&c.isFunction(e)?(e=e.call(a,d),c.isObject(e)?e.closePromise?
	e.closePromise.then(function(){h.performCloseDialog(a,d)}):e.then(function(){h.performCloseDialog(a,d)},function(){}):!1!==e&&h.performCloseDialog(a,d)):h.performCloseDialog(a,d)}},v={open:function(a){function q(b,a){return D.get(b,a||{}).then(function(b){return b.data||""})}var e=this,b=c.copy(z);a=a||{};c.extend(b,a);r+=1;e.latestID="ngdialog"+r;x[e.latestID]=a=t.defer();var n=c.isObject(b.scope)?b.scope.$new():m.$new(),f,p;t.when(function(a){return a?c.isString(a)&&b.plain?a:"boolean"!==typeof b.cache||
b.cache?l.get(a)||q(a,{cache:!0}):q(a,{cache:!1}):"Empty template"}(b.template||b.templateUrl)).then(function(a){l.put(b.template||b.templateUrl,a);b.showClose&&(a+='<div class="ngdialog-close"></div>');e.$result=f=w('<div id="ngdialog'+r+'" class="ngdialog"></div>');f.html(b.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content">'+a+"</div>":'<div class="ngdialog-content">'+a+"</div>");b.data&&c.isString(b.data)?(a=b.data.replace(/^\s*/,"")[0],n.ngDialogData="{"===a||"["===a?
	c.fromJson(b.data):b.data):b.data&&c.isObject(b.data)&&(n.ngDialogData=c.fromJson(c.toJson(b.data)));b.controller&&(c.isString(b.controller)||c.isArray(b.controller)||c.isFunction(b.controller))&&(a=F(b.controller,{$scope:n,$element:f}),f.data("$ngDialogControllerController",a));b.className&&f.addClass(b.className);p=b.appendTo&&c.isString(b.appendTo)?c.element(document.querySelector(b.appendTo)):g;if(b.preCloseCallback){var q;c.isFunction(b.preCloseCallback)?q=b.preCloseCallback:c.isString(b.preCloseCallback)&&
n&&(c.isFunction(n[b.preCloseCallback])?q=n[b.preCloseCallback]:n.$parent&&c.isFunction(n.$parent[b.preCloseCallback])?q=n.$parent[b.preCloseCallback]:m&&c.isFunction(m[b.preCloseCallback])&&(q=m[b.preCloseCallback]));q&&f.data("$ngDialogPreCloseCallback",q)}n.closeThisDialog=function(a){h.closeDialog(f,a)};E(function(){u(f)(n);var a=B.innerWidth-g.prop("clientWidth");g.addClass("ngdialog-open");a-=B.innerWidth-g.prop("clientWidth");0<a&&h.setBodyPadding(a);p.append(f);b.name?m.$broadcast("ngDialog.opened",
	{dialog:f,name:b.name}):m.$broadcast("ngDialog.opened",f)});b.closeByEscape&&g.bind("keydown",h.onDocumentKeydown);b.closeByNavigation&&m.$on("$locationChangeSuccess",function(){h.closeDialog(f)});d=function(a){var c=b.closeByDocument?w(a.target).hasClass("ngdialog-overlay"):!1;a=w(a.target).hasClass("ngdialog-close");(c||a)&&v.close(f.attr("id"),a?"$closeButton":"$document")};if("undefined"!==typeof y.Hammer)(n.hammerTime=y.Hammer(f[0])).on("tap",d);else f.bind("click",d);k+=1;return v});return{id:"ngdialog"+
r,closePromise:a.promise,close:function(a){h.closeDialog(f,a)}}},openConfirm:function(a){var d=t.defer(),e={closeByEscape:!1,closeByDocument:!1};c.extend(e,a);e.scope=c.isObject(e.scope)?e.scope.$new():m.$new();e.scope.confirm=function(a){d.resolve(a);var c=w(document.getElementById(b.id));h.performCloseDialog(c,a)};var b=v.open(e);b.closePromise.then(function(a){return a?d.reject(a.value):d.reject()});return d.promise},close:function(a,c){var d=w(document.getElementById(a));d.length?h.closeDialog(d,
	c):v.closeAll(c);return v},closeAll:function(a){var d=document.querySelectorAll(".ngdialog");c.forEach(d,function(c){h.closeDialog(w(c),a)})},getDefaults:function(){return z}};return v}]});t.directive("ngDialog",["ngDialog",function(l){return{restrict:"A",scope:{ngDialogScope:"="},link:function(r,k,d){k.on("click",function(k){k.preventDefault();k=c.isDefined(r.ngDialogScope)?r.ngDialogScope:"noScope";c.isDefined(d.ngDialogClosePrevious)&&l.close(d.ngDialogClosePrevious);var p=l.getDefaults();l.open({template:d.ngDialog,
	className:d.ngDialogClass||p.className,controller:d.ngDialogController,scope:k,data:d.ngDialogData,showClose:"false"===d.ngDialogShowClose?!1:"true"===d.ngDialogShowClose?!0:p.showClose,closeByDocument:"false"===d.ngDialogCloseByDocument?!1:"true"===d.ngDialogCloseByDocument?!0:p.closeByDocument,closeByEscape:"false"===d.ngDialogCloseByEscape?!1:"true"===d.ngDialogCloseByEscape?!0:p.closeByEscape,preCloseCallback:d.ngDialogPreCloseCallback||p.preCloseCallback})})}}}])})(window,window.angular);